<script src="https://unpkg.com/react@15/dist/react.js"></script>
<script src="https://unpkg.com/react-dom@15/dist/react-dom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.js"></script>
<title>React 예제</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/>
<link rel="stylesheet" type="text/css" href="./resource/css/coffee.css">
<div id="root"></div>

<script type="text/babel">

const menuitem= [
    {name:'아메리카노', price:1500}
    ,{name:'카페라떼', price:2500}
    ,{name:'바닐라라떼', price:3000}
    ,{name:'카페모카', price:3500}
    ,{name:'콜드브루', price:2800}
    ,{name:'카라멜마끼아또', price:3500}
    ,{name:'녹차라떼', price:3000}
    ,{name:'초코라떼', price:3000}
    ,{name:'헤이즐넛', price:2000}
]
function Menuitem (props){
  return (
    <div className= "menuitem col-sm-4" onClick={props.onClick}>
      <div>{(props.item.price/1000).toFixed(1)} | {props.item.name}</div>
    </div>
  );
}

class Menu extends React.Component{
    constructor(props){
        super(props);
        this.state = {
            orders:[]
            ,price:0
        }
    }
    renderMenuitem(item){
        return (<Menuitem key={item.name} item={item} onClick={()=> this.handleClick(item)}/>);
    }
    handleClick(item){
        const orders = this.state.orders.slice();
        orders[orders.length]=item;
        this.setState({orders:orders});
    }
    render(){
        return (
            <div>
                <h2>Menu</h2>
                <div className="row">
                    {menuitem.map(e=>this.renderMenuitem(e))}
                </div>
                <hr></hr>
                <div>
                    <h3>Items to order</h3>
                    <div className="mybagitems">
                        {this.state.orders.map((e,i)=>{return (<div key={i}>{e.name}</div>)})}
                    </div>
                    <h5>Total price : {this.state.price}</h5>
                </div>
            </div>
        );
    }
}
class App extends React.Component{
    render(){
        return (
            <div className="container">
                <Menu />
            </div>
        );
    }
}
ReactDOM.render(
    <App title="Coffee" />,
    document.getElementById('root')
);
</script>